<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="GitHub Gist Viewer" 
  	author="Brandon Donnelson" 
  	author_email="branflake2267@gmail.com" 
  	title_url="http://c.dart-examples.com"
  	description="Display your Github gist."/>
  	<UserPref name="gistId" display_name="Gist Id" default_value=""/>
  	<UserPref name="https" display_name="HTTPS" datatype="bool" default_value="false"/>
  <Content type="html">
    <![CDATA[
      <div align="center">
        <script type="text/javascript">
          
		  function getGist() {
		  	alert("1"); 
		  	String url = "http://gist.github.com/2945019.js";  
		    var params = {};  
		    params[gadgets.io.RequestParameters.CONTENT_TYPE] = gadgets.io.ContentType.TEXT;  
		    gadgets.io.makeRequest(url, response, params);
		    alert("2");
		  };
		  
		  function response(obj) {
		  alert("3");  
		    var str = obj.text;
		    alert(str);
		    document.write(str);
		    alert("5");
		  };
		  gadgets.util.registerOnLoadHandler(getGist);
         
        </script>
	  </div>
    ]]>
  </Content>
</Module>